# Django Tree Menu

Django приложение для создания древовидного меню с возможностью управления через админ-панель.

## Требования

- Python 3.8+
- Django 5.2+

## Установка

1. Клонируйте репозиторий:

```bash
git clone <url-репозитория>
cd <название-директории>
```

2. Создайте и активируйте виртуальное окружение:

```bash
python -m venv env
source env/bin/activate  # для Linux/Mac
# или
env\Scripts\activate  # для Windows
```

3. Установите зависимости:

```bash
pip install -r requirements.txt
```

4. Создайте файл `.env` в корневой директории проекта и добавьте в него:
5. SECRET_KEY=ваш-секретный-ключ

Для генерации секретного ключа можно использовать Python:

```python
from django.core.management.utils import get_random_secret_key

print(get_random_secret_key())
```

5. Примените миграции:

```bash
python manage.py migrate
```

6. Создайте суперпользователя:

```bash
python manage.py createsuperuser
```

7. Запустите сервер разработки:

```bash
python manage.py runserver
```

## Настройка меню

1. Войдите в админ-панель Django по адресу http://127.0.0.1:8000/admin/

2. Создайте новое меню:
    - Перейдите в раздел "Меню"
    - Нажмите "Добавить Меню"
    - Введите название меню (например, "main_menu")
    - Сохраните

3. Добавьте пункты меню:
    - Перейдите в раздел "Пункты меню"
    - Нажмите "Добавить Пункт меню"
    - Заполните поля:
        - Название пункта меню
        - Выберите меню
        - URL (например, "/" для главной страницы)
        - Порядок (для сортировки)
        - Родитель (если это подпункт меню)
    - Сохраните

## Использование

Для отображения меню в шаблоне используйте template tag:

```html
{% load menu_tags %}
{% draw_menu 'main_menu' %}
```

Где 'main_menu' - это название вашего меню.

## Особенности

- Меню реализовано через template tag
- Все пункты над выделенным пунктом развернуты
- Первый уровень вложенности под выделенным пунктом тоже развернут
- Меню хранится в БД
- Редактируется в стандартной админке Django
- Активный пункт меню определяется по URL текущей страницы
- На одной странице может быть несколько меню
- При клике на меню происходит переход по заданному URL
- URL может быть задан как явным образом, так и через named url
- На отрисовку каждого меню требуется ровно 1 запрос к БД

## Структура проекта
